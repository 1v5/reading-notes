# 变量作用域

## 第8条 尽量少用全局对象
- 避免声明全局变量, 尽量声明局部变量
- 避免对全局对象添加属性
```js
  var xx = "global var";
  this.xx = "changed";
  xx; //"changed"
```
- 可使用全局对象来做平台特性检测
```js
  if(!this.JSON){
    this.JSON = {
      parse: ...,
      stringify: ...,
    };
  }
```

## 第9条 始终声明局部变量
- 始终使用var声明新的局部变量
- 考虑使用lint工具帮助检查未绑定的变量

## 第10条 避免使用with
- with块中的所有变量都会从提供给with的对象找起,需要搜索该对象的原型链来查找,故运行速度低于一般的代码块
- with块中的外部变量的引用会错误地找到提供给with的对象的同名属性

## 第11条 熟练掌握闭包
- 闭包比创建它们的函数有更长的生命周期

## 第12条 理解变量声明提升
- js没有块级作用域的一个例外是异常处理
```js
// try...catch语句将捕获的异常绑定到一个变量, 该变量的作用域只是catch语句块
function test(){
  var x = "var", result = [];
  result.push(x);
  try{
    throw "exception";
  }catch(x){
    x = "catch";
  }
  result.push(x);
  return result;
}
test(); //['var', 'var']
```

## 第13条 使用立即调用的函数表达式创建局部作用域
